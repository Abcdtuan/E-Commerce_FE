<div class="forgot-container mat-elevation-z4">
  <h2>Quên mật khẩu</h2>

  <!-- Bước 1: Nhập email -->
  <div *ngIf="step === 1">
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Email của bạn</mat-label>
      <input matInput type="email" [(ngModel)]="email" placeholder="Nhập email đã đăng ký" />
    </mat-form-field>

    <button mat-raised-button color="primary" (click)="sendOtp()" [disabled]="!email">
      Gửi mã OTP
    </button>
  </div>

  <!-- Bước 2: Nhập OTP -->
  <div *ngIf="step === 2">
    <p>Mã OTP đã được gửi tới: <strong>{{ email }}</strong></p>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Nhập mã OTP</mat-label>
      <input matInput type="text" [(ngModel)]="otp" placeholder="Nhập mã OTP" />
    </mat-form-field>

    <div class="btn-group">
      <button mat-stroked-button color="warn" (click)="step = 1">Quay lại</button>
      <button mat-raised-button color="primary" (click)="verifyOtp()" [disabled]="!otp">
        Xác minh OTP
      </button>
    </div>
  </div>

  
  <div *ngIf="step === 3">
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Mật khẩu mới</mat-label>
      <input matInput type="password" [(ngModel)]="newPassword" placeholder="Nhập mật khẩu mới" />
    </mat-form-field>

    <div class="btn-group">
      <button mat-stroked-button color="warn" (click)="step = 2">Quay lại</button>
      <button mat-raised-button color="accent" (click)="resetPassword()" [disabled]="!newPassword">
        Đặt lại mật khẩu
      </button>
    </div>
  </div>
</div>

